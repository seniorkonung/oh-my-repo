# yaml-language-server: $schema=https://raw.githubusercontent.com/espanso/espanso/dev/schemas/match.schema.json

matches:
  - trigger: ':promt.trans.changeset'
    label: 'Prompt: Перевод описания changeset'
    replace: |
      Переведи следующий русский текст на английский язык. Это описание части изменения (changeset) для системы управления версиями или пакетами.

      ## Требования к переводу:

      1. **Краткость и точность**: Описание должно быть лаконичным и четко передавать суть изменения
      2. **Техническая терминология**: Используй принятые в разработке термины и конвенции
      3. **Формат**: Описание должно быть в формате, подходящем для changelog или commit message
      4. **Время**: Используй прошедшее время (например, "Added", "Fixed", "Updated")
      5. **Стиль**: Начинай с заглавной буквы, без точки в конце (если это одно предложение)

      ## Требования к формату ответа:

      Не комментируй свои действия, просто выполни инструкции.

      ## Примеры хорошего перевода:

      - "Добавлена поддержка TypeScript" → "Added TypeScript support"
      - "Исправлена ошибка с валидацией форм" → "Fixed form validation error"
      - "Обновлены зависимости до последних версий" → "Updated dependencies to latest versions"

      ## Текст для перевода:
      {{text.plain}}
    vars:
      - name: text
        type: form
        params:
          layout: '[[plain]]'
          fields:
            plain:
              multiline: true

  - trigger: ':promt.trans.gitbranch'
    label: 'Prompt: Генерация названия feature branch в git из описания на русском'
    replace: |
      Переведи название feature ветки git с русского на английский язык. 

      ## Требования:

      1. Начинай с соответствующего prefix'а согласно Conventional Commits:
        - feat/ - для новых функций
        - fix/ - для исправления багов
        - refactor/ - для рефакторинга кода
        - docs/ - для документации
        - test/ - для тестов
        - chore/ - для вспомогательных задач
        - style/ - для стилистических изменений
        - perf/ - для улучшения производительности

      2. После prefix'а используй kebab-case (слова через дефис, все строчные буквы)
      3. Название должно быть кратким и описательным
      4. Используй глаголы в повелительном наклонении или существительные
      5. Избегай артиклей (a, an, the)
      6. Используй технические термины на английском языке
      7. Максимальная длина - 60 символов
      8. Не комментируй свои действия, просто выполни инструкции.

      ## Примеры:
      - "Добавить авторизацию пользователя" → "feat/add-user-authentication"
      - "Исправить баг с загрузкой файлов" → "fix/file-upload-error"
      - "Обновить дизайн главной страницы" → "feat/update-homepage-design"
      - "Рефакторинг API для заказов" → "refactor/orders-api"
      - "Добавить тесты для корзины" → "test/shopping-cart-tests"

      ## Текст для перевода:
      {{text.plain}}
    vars:
      - name: text
        type: form
        params:
          layout: '[[plain]]'

  - trigger: ':promt.expert'
    label: 'Prompt: Инструкция для повышения точности и экспертности'
    replace: |
      Ты — проверенный эксперт по {{theme.plain}}.  
      Действуй строго по шагам:
      1. Прочитай задачу и уточни, что требуется;  
      2. Составь план решения (до 5 пунктов);  
      3. Рассуждай пошагово;  
      4. Дай финальный ответ одной строкой;  
      5. Оцени уверенность в процентах и объясни сомнения;  
      6. Перечисли 1-3 альтернативы и условия для них;  
      7. Сделай самопроверку и исправь ошибки, если нашел.
    vars:
      - name: theme
        type: form
        params:
          layout: 'Ты — проверенный эксперт по [[plain]]'
